# Оптимизированная сборка DMG

Эта версия zapp включает оптимизации для уменьшения размера DMG файлов.

## Основные оптимизации

### 1. Сжатые форматы DMG
- **UDZO** (рекомендуется) - сжатие zlib, оптимальный баланс размера и скорости
- **UDBZ** - сжатие bzip2, лучшее сжатие, но медленнее
- **UDRO** - только для чтения, без сжатия
- **UDRW** - для чтения/записи, без сжатия

### 2. Уровни сжатия
- Доступны уровни 1-9 (где 9 - максимальное сжатие)
- По умолчанию используется уровень 6 (оптимальный баланс)

### 3. Hard Links
- Опция использования hard links вместо копирования файлов
- Уменьшает использование временного дискового пространства

## Примеры использования

### Оптимальная сборка (рекомендуется)
```bash
./zapp dmg --app MyApp.app --format UDZO --compression-level 6
```

### Максимальное сжатие
```bash
./zapp dmg --app MyApp.app --format UDZO --compression-level 9
```

### С минимальным использованием диска
```bash
./zapp dmg --app MyApp.app --format UDZO --use-hard-links
```

### Полная оптимизация
```bash
./zapp dmg --app MyApp.app --format UDZO --compression-level 9 --use-hard-links
```

## Ожидаемое уменьшение размера

- **UDZO с уровнем 6**: ~40-60% уменьшение размера по сравнению с UDRO
- **UDZO с уровнем 9**: ~50-70% уменьшение размера по сравнению с UDRO
- **UDBZ**: дополнительное ~5-10% уменьшение по сравнению с UDZO, но значительно медленнее

## Примечания

- Hard links работают только в пределах одного файловой системы
- Если hard links недоступны, автоматически используется обычное копирование
- Для максимальной совместимости рекомендуется использовать UDZO с уровнем 6
